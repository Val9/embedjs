var dojo={},djConfig=dojo.config={};dojo.global=window;dojo.doc=document;dojo.body=function(){return document.body};dojo.provide=function(a){a+="";return dojo.getObject(a,true)};dojo.require=function(){};
(function(a){var b={},e;for(var i in{toString:1}){e=[];break}dojo._extraNames=e=e||["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString"];a._mixin=function(f,j){var g,l,o=0,t=e.length;for(g in j){l=j[g];if(l!==b[g]&&l!==f[g])f[g]=l}if(t&&j)for(;o<t;++o){g=e[o];l=j[g];if(l!==b[g]&&l!==f[g])f[g]=l}return f};dojo.mixin=function(f){f||(f={});for(var j=1,g=arguments.length;j<g;j++)a._mixin(f,arguments[j]);return f};dojo.safeMixin=function(f,j){var g,l,o=0,t=a._extraNames.length,
u=Object.prototype,w=u.toString;for(g in j){l=j[g];if((l!==u[g]||!(g in u))&&g!="constructor"){if(w.call(l)=="[object Function]")l.nom=g;f[g]=l}}for(;o<t;++o){g=a._extraNames[o];l=j[g];if((l!==u[g]||!(g in u))&&g!="constructor"){if(w.call(l)=="[object Function]")l.nom=g;f[g]=l}}return f};a._getProp=function(f,j,g){g=g||a.global;for(var l=0,o;g&&(o=f[l]);l++)g=o in g?g[o]:j?g[o]={}:undefined;return g};a.setObject=function(f,j,g){var l=f.split(".");f=l.pop();return(g=a._getProp(l,true,g))&&f?g[f]=j:
undefined};a.getObject=function(f,j,g){return a._getProp(f.split("."),j,g)};a._loaders=[];a._unloaders=[];a._onto=function(f,j,g){if(g){if(g){var l=typeof g=="string"?j[g]:g;f.push(function(){l.call(j)})}}else f.push(j)};dojo.addOnLoad=function(f,j){a._onto(a._loaders,f,j);a._postLoad&&a._inFlightCount==0&&!a._loadNotifying&&a._callLoaded()};dojo._getModuleSymbols=function(f){f=f.split(".");for(var j=f.length;j>0;j--){var g=f.slice(0,j).join(".");if(j==1&&!a._moduleHasPrefix(g))f[0]="../"+f[0];else{var l=
a._getModulePrefix(g);if(l!=g){f.splice(0,j,l);break}}}return f};dojo.moduleUrl=function(f,j){var g=a._getModuleSymbols(f).join("/");if(!g)return null;if(g.lastIndexOf("/")!=g.length-1)g+="/";var l=g.indexOf(":");if(g.charAt(0)!="/"&&(l==-1||l>g.indexOf("/")))g=a.baseUrl+g;return g+(j||"")};a.mixin(a,{baseUrl:"",_loadedModules:{},_inFlightCount:0,_hasResource:{},_modulePrefixes:{dojo:{name:"dojo",value:"."},doh:{name:"doh",value:"../util/doh"},tests:{name:"tests",value:"tests"}},_moduleHasPrefix:function(f){var j=
a._modulePrefixes;return!!(j[f]&&j[f].value)},_getModulePrefix:function(f){var j=a._modulePrefixes;if(a._moduleHasPrefix(f))return j[f].value;return f},_loadedUrls:[],_postLoad:false,_loaders:[],_unloaders:[],_loadNotifying:false})})(dojo);
(function(a){if(document&&document.getElementsByTagName)for(var b=document.getElementsByTagName("script"),e=/dojo[^\/]*\.js(\W|$)/i,i=0;i<b.length;i++){var f=b[i].getAttribute("src");if(f){var j=f.match(e);if(j){if(!a.config.baseUrl)a.config.baseUrl=f.substring(0,j.index);if(b=b[i].getAttribute("djConfig")){b=eval("({ "+b+" })");for(var g in b)dojo.config[g]=b[g]}break}}}a.baseUrl=a.config.baseUrl})(dojo);
["indexOf","lastIndexOf","forEach","map","some","every","filter"].forEach(function(a,b){dojo[a]=function(e,i,f){if(b>1&&typeof i=="string")i=new Function("item","index","array",i);return Array.prototype[a].call(e,i,f)}});
dojo._listener={getDispatcher:function(){return function(){var a=Array.prototype,b=arguments.callee,e=b._listeners;b=(b=b.target)&&b.apply(this,arguments);var i;e=[].concat(e);for(i in e)i in a||e[i].apply(this,arguments);return b}},add:function(a,b,e){a=a||dojo.global;var i=a[b];if(!i||!i._listeners){var f=dojo._listener.getDispatcher();f.target=i;f._listeners=[];i=a[b]=f}return i._listeners.push(e)},remove:function(a,b,e){(a=(a||dojo.global)[b])&&a._listeners&&e--&&delete a._listeners[e]}};
dojo.connect=function(){var a=arguments,b=[],e=0;b.push(dojo.isString(a[0])?null:a[e++],a[e++]);var i=a[e+1];b.push(dojo.isString(i)||dojo.isFunction(i)?a[e++]:null,a[e++]);for(i=a.length;e<i;e++)b.push(a[e]);return dojo._connect.apply(this,b)};dojo._connect=function(a,b,e,i){var f=dojo._listener;e=f.add(a,b,dojo.hitch(e,i));return[a,b,e,f]};dojo.disconnect=function(a){if(a&&a[0]!==undefined){dojo._disconnect.apply(this,a);delete a[0]}};dojo._disconnect=function(a,b,e,i){i.remove(a,b,e)};
dojo._topics={};dojo.subscribe=function(a,b,e){return[a,dojo._listener.add(dojo._topics,a,dojo.hitch(b,e))]};dojo.unsubscribe=function(a){a&&dojo._listener.remove(dojo._topics,a[0],a[1])};dojo.publish=function(a,b){var e=dojo._topics[a];if(e)e.apply(this,b||[])};dojo.connectPublisher=function(a,b,e){var i=function(){dojo.publish(a,arguments)};return e?dojo.connect(b,e,i):dojo.connect(b,i)};
dojo.trim=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};var _pattern=/\{([^\}]+)\}/g;dojo.replace=function(a,b,e){return a.replace(e||_pattern,dojo.isFunction(b)?b:function(i,f){return dojo.getObject(f,false,b)})};
(function(a){a._query=function(c,h){if(typeof h=="string"){h=a.byId(h);if(!h)return[]}h=h||dojo.doc;if(/[>+~]\s*$/.test(c))c+="*";var k=h;if(h.nodeType==9)if(/^\s*>/.test(c)){var m=c.replace(/^\s*>/,"").match(/([^\s>+~]+)(.*)/);if(!m)return[];var n=m[1];c=m[2];if(h.querySelector(n)!==h.documentElement)return[];if(!c)return[h.documentElement];h=h.documentElement}else if(/^\s*[+~]/.test(c))return[];if(h.nodeType==1){m=k=h.id;if(!k){m=h.id="d---dojo-query-synthetic-id-"+(new Date).getTime();var q=true}c=
"#"+m+" "+c;k=h.parentNode}k=k.querySelectorAll(c);if(q)h.id="";return k||[]};var b=a._byId=function(c,h){return typeof c=="string"?(h||document).getElementById(c):c},e={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},i=/<\s*([\w\:]+)/,f={},j=0,g="__"+a._scopeName+"ToDomId";for(var l in e){var o=e[l];o.pre=l=="option"?
'<select multiple="multiple">':"<"+o.join("><")+">";o.post="</"+o.reverse().join("></")+">"}a._toDom=function(c,h){h=h||a.doc;var k=h[g];if(!k){h[g]=k=++j+"";f[k]=h.createElement("div")}c+="";var m=c.match(i),n=m?m[1].toLowerCase():"";k=f[k];if(m&&e[n]){m=e[n];k.innerHTML=m.pre+c+m.post;for(m=m.length;m;--m)k=k.firstChild}else k.innerHTML=c;if(k.childNodes.length==1)return k.removeChild(k.firstChild);for(n=h.createDocumentFragment();m=k.firstChild;)n.appendChild(m);return n};a._getComputedStyle=function(c){return c.nodeType==
1?c.ownerDocument.defaultView.getComputedStyle(c,null):{}};l=a.isIE?"styleFloat":"cssFloat";var t={cssFloat:l,styleFloat:l,"float":l};a._style=function(c,h,k){var m=b(c),n=arguments.length;h=t[h]||h;if(n==3)return m.style[h]=k;var q=a._getComputedStyle(m);if(n==2&&typeof h!="string"){for(var s in h)a._style(c,s,h[s]);return q}return n==1?q:parseFloat(q[h]||m.style[h])||q[h]};a.hasClass=function(c,h){return(" "+b(c).className+" ").indexOf(" "+h+" ")>=0};var u=/\s+/,w=[""],p=function(c){if(typeof c==
"string"||c instanceof String)if(c.indexOf(" ")<0){w[0]=c;return w}else return c.split(u);return c};a.addClass=function(c,h){c=b(c);h=p(h);for(var k=" "+c.className+" ",m=0,n=h.length,q;m<n;++m)if((q=h[m])&&k.indexOf(" "+q+" ")<0)k+=q+" ";c.className=a.trim(k)};a.removeClass=function(c,h){c=b(c);var k;if(h!==undefined){h=p(h);k=" "+c.className+" ";for(var m=0,n=h.length;m<n;++m)k=k.replace(" "+h[m]+" "," ");k=a.trim(k)}else k="";if(c.className!=k)c.className=k};a.toggleClass=function(c,h,k){if(k===
undefined)k=!a.hasClass(c,h);a[k?"addClass":"removeClass"](c,h)};a._docScroll=function(){var c=a.global;return"pageXOffset"in c?{x:c.pageXOffset,y:c.pageYOffset}:(c=a.doc.documentElement,c.clientHeight?{x:a._fixIeBiDiScrollLeft(c.scrollLeft),y:c.scrollTop}:(c=a.body(),{x:c.scrollLeft||0,y:c.scrollTop||0}))};var r=function(c,h){var k=h.parentNode;k&&k.insertBefore(c,h)};a.place=function(c,h,k){h=b(h);if(typeof c=="string")c=c.charAt(0)=="<"?a._toDom(c,h.ownerDocument):b(c);if(typeof k=="number"){var m=
h.childNodes;!m.length||m.length<=k?h.appendChild(c):r(c,m[k<0?0:k])}else switch(k){case "before":r(c,h);break;case "after":k=c;h=h;if(m=h.parentNode)m.lastChild==h?m.appendChild(k):m.insertBefore(k,h.nextSibling);break;case "replace":h.parentNode.replaceChild(c,h);break;case "only":a.empty(h);h.appendChild(c);break;case "first":if(h.firstChild){r(c,h.firstChild);break}default:h.appendChild(c)}return c};a.create=function(c,h,k,m){var n=a.doc;if(k){k=b(k);n=k.ownerDocument}if(typeof c=="string")c=
n.createElement(c);if(h)for(var q in h)switch(q){case "class":c.className=h[q];break;default:c[q]=h[q]}k&&a.place(c,k,m);return c};a.empty=function(c){b(c).innerHTML=""}})(dojo);dojo.byId=dojo._byId;dojo.getComputedStyle=dojo._getComputedStyle;dojo.style=dojo._style;dojo.query=dojo._query;(function(a){var b=null,e;a.destroy=function(i){i=dojo.byId(i);try{var f=i.ownerDocument;if(!b||e!=f){b=f.createElement("div");e=f}b.appendChild(i.parentNode?i.parentNode.removeChild(i):i);b.innerHTML=""}catch(j){}}})(dojo);
(function(){var a=dojo._event_listener={add:function(b,e,i){if(b){e=a._normalizeEventName(e);b.addEventListener(e,i,false);return i}},remove:function(b,e,i){if(b){e=a._normalizeEventName(e);b.removeEventListener(e,i,false)}},_normalizeEventName:function(b){return b.slice(0,2)=="on"?b.slice(2):b}};dojo.fixEvent=function(b,e){return a._fixEvent(b,e)};dojo.stopEvent=function(b){b.preventDefault();b.stopPropagation()};dojo._connect=function(b,e,i,f){var j=b&&(b.nodeType||b.attachEvent||b.addEventListener)?
1:0;i=[dojo._listener,a][j].add(b,e,dojo.hitch(i,f));return[b,e,i,j]};dojo._disconnect=function(b,e,i,f){[dojo._listener,a][f].remove(b,e,i)}})();(function(){var a=function(e,i,f){return(f||[]).concat(Array.prototype.slice.call(e,i||0))},b=function(e,i,f){f=f||[];for(i=i||0;i<e.length;i++)f.push(e[i]);return f};dojo._toArray=dojo.isIE?function(e){return(e.item?b:a).apply(this,arguments)}:a})();dojo.isString=function(a){return typeof a=="string"||a instanceof String};
dojo.isArray=function(a){return a&&(a instanceof Array||typeof a=="array")};dojo.isFunction=function(){var a=function(b){var e=typeof b;return b&&(e=="function"||b instanceof Function)&&!b.nodeType};return dojo.isSafari?function(b){if(typeof b=="function"&&b=="[object NodeList]")return false;return a(b)}:a}();dojo.isObject=function(a){return a!==undefined&&(a===null||typeof a=="object"||dojo.isArray(a)||dojo.isFunction(a))};
dojo.isArrayLike=function(a){var b=dojo;return a&&a!==undefined&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&a.tagName.toLowerCase()=="form")&&(b.isArray(a)||isFinite(a.length))};dojo.isAlien=function(a){return a&&!dojo.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))};dojo.isNumeric=function(a){return a==parseFloat(a)};dojo.isNumber=function(a){return typeof a=="number"||a instanceof Number};
dojo._hitchArgs=function(a,b){var e=dojo._toArray(arguments,2),i=dojo.isString(b);return function(){var f=dojo._toArray(arguments),j=i?(a||dojo.global)[b]:b;return j&&j.apply(a||this,e.concat(f))}};
dojo.hitch=function(a,b){if(arguments.length>2)return dojo._hitchArgs.apply(dojo,arguments);if(!b){b=a;a=null}if(dojo.isString(b)){a=a||dojo.global;if(!a[b])throw['dojo.hitch: scope["',b,'"] is null (scope="',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return!a?b:function(){return b.apply(a,arguments||[])}};
(function(a){function b(g){var l={left:null,top:null},o=typeof g.left!="undefined";if(g.units=="%"&&o){g=g.node.style.left;if(g===""||""+g==="0")l.left=0;else if(g.slice(-1)!="%")throw Error("'left' value must be given in percent, to animate using '%' as units. Value was: '"+g+"'.");else l.left=parseFloat(g.substr(0,g.length-1))}return l}var e=a.fx={},i=a.byId,f=a.mixin,j=function(g){this._lastAnimate=null;this.percent=0;this.percentPerStep=Math.round(g.rate/g.duration*100*100)/100;this.play=function(){this._lastAnimate=
(new Date).valueOf();g.beforeBegin&&g.beforeBegin();this.onAnimate()};this.onAnimate=function(){g.onAnimate&&g.onAnimate(this);if(this.percent>=100)g.onEnd&&g.onEnd();else{this.percent=Math.round((this.percent+this.percentPerStep)*100)/100;this.percent=this.percent>100?100:this.percent;var l=(new Date).valueOf(),o=l-this._lastAnimate;o=o<g.rate?g.rate-o:10;setTimeout(dojo.hitch(this,"onAnimate"),o);this._lastAnimate=l}}};e.slideTo=function(g){g.node=i(g.node);g=f({units:"px",easing:"linear",duration:1E3,
rate:20},g);var l=b(g),o=g.left-l.left,t=typeof g.left!="undefined",u=new j({duration:g.duration,rate:g.rate,onAnimate:function(w){if(t)g.node.style.left=l.left+o*w.percent/100+g.units},onEnd:g.onEnd||function(){},beforeBegin:g.beforeBegin||function(){}});return{play:dojo.hitch(u,"play")}};e._fadeDefaults={property:"opacity",easing:"linear",duration:1E3,delay:0};e.fadeIn=function(g){return a._fade(a.mixin(e._fadeDefaults,{end:1},g))};e.fadeOut=function(g){return a._fade(a.mixin(e._fadeDefaults,{end:0},
g))};a._fade=function(g){var l=g.start?parseFloat(g.start):parseFloat(g.node.style[g.property]||0),o=g.end;if(l>o)var t=l-o,u=-1;else{t=o-l;u=1}o=new j({duration:g.duration,rate:20,onAnimate:function(w){g.node.style[g.property]=l+u*t/100*w.percent},onEnd:g.onEnd||function(){},beforeBegin:g.beforeBegin||function(){}});return{play:dojo.hitch(o,"play")}}})(dojo);dojo.provide("dojo.io.script");
dojo.io.script.attach=function(a){var b=document,e=b.createElement("script");e.type="text/javascript";e.src=a.url;e.charset="utf-8";return b.getElementsByTagName("head")[0].appendChild(e)};dojo.objectToQuery=function(a){var b=encodeURIComponent,e=[],i={};for(var f in a){var j=a[f];if(j!=i[f]){var g=b(f)+"=";if(dojo.isArray(j))for(var l=0;l<j.length;l++)e.push(g+b(j[l]));else e.push(g+b(j))}}return e.join("&")};dojo.io.script._id=0;dojo.io.script._timeouts={};
dojo.io.script.get=function(a){if(!a.url)throw Error("dojo.io.script.get: No URL specified.");if(!a.jsonp)throw Error("dojo.io.script.get: No callback param specified.");dojo.io.script._id++;var b="jsonp_callback_"+dojo.io.script._id;dojo.io.script._timeouts[dojo.io.script._id]=setTimeout(function(){dojo.io.script[b]=function(){};clearTimeout(dojo.io.script._timeouts[dojo.io.script._id]);a.error&&a.error(null,{});a.handle&&a.handle(null,{})},a.timeout||3E3);a.url+="?"+a.jsonp+"=dojo.io.script."+b;
dojo.io.script[b]=function(f){clearTimeout(dojo.io.script._timeouts[dojo.io.script._id]);try{a.load&&a.load(f,{})}catch(j){a.error&&a.error(null,{})}a.handle&&a.handle(f,{})};if(a.content)a.url+="&"+dojo.objectToQuery(a.content);var e=dojo.doc,i=e.createElement("script");i.type="text/javascript";i.src=a.url;i.charset="utf-8";return e.getElementsByTagName("head")[0].appendChild(i)};dojo.jsonp=dojo.io.script.get;dojo.isString=function(a){return typeof a=="string"||a instanceof String};
dojo.isArray=function(a){return a&&(a instanceof Array||typeof a=="array")};dojo.isFunction=function(){var a=function(b){var e=typeof b;return b&&(e=="function"||b instanceof Function)&&!b.nodeType};return dojo.isSafari?function(b){if(typeof b=="function"&&b=="[object NodeList]")return false;return a(b)}:a}();dojo.isObject=function(a){return a!==undefined&&(a===null||typeof a=="object"||dojo.isArray(a)||dojo.isFunction(a))};
dojo.isArrayLike=function(a){var b=dojo;return a&&a!==undefined&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&a.tagName.toLowerCase()=="form")&&(b.isArray(a)||isFinite(a.length))};dojo.isAlien=function(a){return a&&!dojo.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))};dojo.isNumeric=function(a){return a==parseFloat(a)};dojo.isNumber=function(a){return typeof a=="number"||a instanceof Number};
dojo.clone=function(a){if(!a||typeof a!="object"||dojo.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(true);if(a instanceof Date)return new Date(a.getTime());var b,e,i,f;if(dojo.isArray(a)){b=[];e=0;for(i=a.length;e<i;++e)e in a&&b.push(dojo.clone(a[e]))}else b=a.constructor?new a.constructor:{};i={};for(f in a){e=a[f];if(!(f in b)||b[f]!==e&&(!(f in i)||i[f]!==e))b[f]=dojo.clone(e)}return b};
dojo.trim=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};_pattern=/\{([^\}]+)\}/g;dojo.replace=function(a,b,e){return a.replace(e||_pattern,dojo.isFunction(b)?b:function(i,f){return dojo.getObject(f,false,b)})};dojo.toJson=function(a){return JSON.stringify(a)};dojo.fromJson=function(a){return JSON.parse(a)};
dojo.delegate=dojo._delegate=function(){function a(){}return function(b,e){a.prototype=b;var i=new a;a.prototype=null;e&&dojo._mixin(i,e);return i}}();dojo.extend=function(a){for(var b=1,e=arguments.length;b<e;b++)dojo._mixin(a.prototype,arguments[b]);return a};
dojo.declare=function(a,b,e){var i=arguments.callee,f;if(dojo.isArray(b)){f=b;b=f.shift()}f&&dojo.forEach(f,function(j,g){if(!j)throw a+": mixin #"+g+" is null";b=i._delegate(b,j)});f=i._delegate(b);e=e||{};f.extend(e);dojo.extend(f,{declaredClass:a,_constructor:e.constructor});f.prototype.constructor=f;return dojo.setObject(a,f)};
dojo.mixin(dojo.declare,{_delegate:function(a,b){var e=(a||0).prototype,i=(b||0).prototype,f=dojo.declare,j=f._makeCtor();dojo.mixin(j,{superclass:e,mixin:i,extend:f._extend});if(a)j.prototype=dojo._delegate(e);dojo.extend(j,f._core,i||0,{_constructor:null,preamble:null});j.prototype.constructor=j;j.prototype.declaredClass=(e||0).declaredClass+"_"+(i||0).declaredClass;return j},_extend:function(a){var b,e;for(b in a)if(dojo.isFunction(e=a[b])&&!0[b]){e.nom=b;e.ctor=this}dojo.extend(this,a)},_makeCtor:function(){return function(){this._construct(arguments)}},
_core:{_construct:function(a){var b=a.callee,e=b.superclass;e=e&&e.constructor;var i=b.mixin;i=i&&i.constructor;var f=a,j;if(f[0])if(j=f[0].preamble)f=j.apply(this,f)||f;if(j=b.prototype.preamble)f=j.apply(this,f)||f;e&&e.apply&&e.apply(this,f);i&&i.apply&&i.apply(this,f);if(i=b.prototype._constructor)i.apply(this,a);if(this.constructor.prototype==b.prototype&&(e=this.postscript))e.apply(this,a)},_findMixin:function(a){for(var b=this.constructor,e;b;){e=b.superclass;b=b.mixin;if(b==a||b instanceof
a.constructor)return e;if(b&&b._findMixin&&(b=b._findMixin(a)))return b;b=e&&e.constructor}},_findMethod:function(a,b,e,i){var f=e,j,g,l;do{j=f.constructor;if((g=j.mixin)&&(g=this._findMethod(a,b,g,i)))return g;if((l=f[a])&&i==(l==b))return f;f=j.superclass}while(f);return!i&&(f=this._findMixin(e))&&this._findMethod(a,b,f,i)},inherited:function(a,b,e){var i=arguments;if(typeof i[0]!="string"){e=b;b=a;a=b.callee.nom}i=e||b;var f=b.callee,j=this.constructor.prototype,g;if(this[a]!=f||j[a]==f){g=(f.ctor||
0).superclass||this._findMethod(a,f,j,true);if(!g)throw this.declaredClass+': inherited method "'+a+'" mismatch';j=this._findMethod(a,f,g,false)}f=j&&j[a];if(!f)throw g.declaredClass+': inherited method "'+a+'" not found';return f.apply(this,i)}}});
(function(){(function(){var a=function(){},b=Object.freeze||function(){};dojo.Deferred=function(e){function i(p){if(g)throw Error("This deferred has already been resolved");j=p;g=true;f()}function f(){for(var p;!p&&t;){var r=t;t=t.next;if(p=r.progress==a)g=false;var c=l?r.error:r.resolved;if(c)try{var h=c(j);if(h&&typeof h.then==="function")h.then(dojo.hitch(r.deferred,"resolve"),dojo.hitch(r.deferred,"reject"));else{c=p&&h===undefined;r.deferred[c&&l?"reject":"resolve"](c?j:h)}}catch(k){r.deferred.reject(k)}else l?
r.deferred.reject(j):r.deferred.resolve(j)}}var j,g,l,o,t,u=this.promise={};this.resolve=this.callback=function(p){this.fired=0;this.results=[p,null];i(p)};this.reject=this.errback=function(p){l=true;this.fired=1;i(p);this.results=[null,p];if(!p||p.log!==false)(dojo.config.deferredOnError||function(r){console.error(r)})(p)};this.progress=function(p){for(var r=t;r;){var c=r.progress;c&&c(p);r=r.next}};this.addCallbacks=function(p,r){this.then(p,r,a);return this};this.then=u.then=function(p,r,c){var h=
c==a?this:new dojo.Deferred(u.cancel);p={resolved:p,error:r,progress:c,deferred:h};if(t)o=o.next=p;else t=o=p;g&&f();return h.promise};var w=this;this.cancel=u.cancel=function(){if(!g){var p=e&&e(w);if(!g){p instanceof Error||(p=Error(p));p.log=false;w.reject(p)}}};b(u)};dojo.extend(dojo.Deferred,{addCallback:function(){return this.addCallbacks(dojo.hitch.apply(dojo,arguments))},addErrback:function(){return this.addCallbacks(null,dojo.hitch.apply(dojo,arguments))},addBoth:function(){var e=dojo.hitch.apply(dojo,
arguments);return this.addCallbacks(e,e)},fired:-1})})();dojo.when=function(a,b,e,i){if(a&&typeof a.then==="function")return a.then(b,e,i);return b(a)}})(dojo);
(function(a){var b=a.config;a._xhrObj=function(){return new XMLHttpRequest};a._isDocumentOk=function(c){c=c.status||0;var h=location.protocol;return c>=200&&c<300||c==304||c==1223||!c&&(h=="file:"||h=="chrome:"||h=="app:")};a._getText=function(c,h){var k=a._xhrObj();k.open("GET",c,false);try{k.send(null);if(!d._isDocumentOk(k)){var m=Error("Unable to load "+c+" status:"+k.status);m.status=k.status;m.responseText=k.responseText;throw m;}}catch(n){if(h)return null;throw n;}return k.responseText};dojo._blockAsync=
false;var e=a._contentHandlers=dojo.contentHandlers={text:function(c){return c.responseText},json:function(c){return a.fromJson(c.responseText||null)}};dojo._ioSetArgs=function(c,h,k,m){var n={args:c,url:c.url},q=[{}];c.content&&q.push(c.content);c.preventCache&&q.push({"dojo.preventCache":(new Date).valueOf()});n.query=a.objectToQuery(a.mixin.apply(null,q));n.handleAs=c.handleAs||"text";var s=new a.Deferred(h);s.addCallbacks(k,function(v){return m(v,s)});var x=c.load;x&&a.isFunction(x)&&s.addCallback(function(v){return x.call(c,
v,n)});var y=c.error;y&&a.isFunction(y)&&s.addErrback(function(v){return y.call(c,v,n)});var z=c.handle;z&&a.isFunction(z)&&s.addBoth(function(v){return z.call(c,v,n)});if(b.ioPublish&&a.publish&&n.args.ioPublish!==false){s.addCallbacks(function(v){a.publish("/dojo/io/load",[s,v]);return v},function(v){a.publish("/dojo/io/error",[s,v]);return v});s.addBoth(function(v){a.publish("/dojo/io/done",[s,v]);return v})}s.ioArgs=n;return s};var i=function(c){c.canceled=true;var h=c.ioArgs.xhr,k=typeof h.abort;
if(k=="function"||k=="object"||k=="unknown")h.abort();c=c.ioArgs.error;if(!c){c=Error("xhr cancelled");c.dojoType="cancel"}return c},f=function(c){c=e[c.ioArgs.handleAs](c.ioArgs.xhr);return c===undefined?null:c},j=function(c,h){h.ioArgs.args.failOk||console.error(c);return c},g=null,l=[],o=0,t=function(c){if(o<=0){o=0;if(b.ioPublish&&a.publish&&(!c||c&&c.ioArgs.args.ioPublish!==false))a.publish("/dojo/io/stop")}},u=function(){var c=(new Date).getTime();if(!a._blockAsync)for(var h=0,k;h<l.length&&
(k=l[h]);h++){var m=k.dfd,n=function(){if(!m||m.canceled||!k.validCheck(m)){l.splice(h--,1);o-=1}else if(k.ioCheck(m)){l.splice(h--,1);k.resHandle(m);o-=1}else if(m.startTime)if(m.startTime+(m.ioArgs.args.timeout||0)<c){l.splice(h--,1);var s=Error("timeout exceeded");s.dojoType="timeout";m.errback(s);m.cancel();o-=1}};if(dojo.config.debugAtAllCosts)n.call(this);else try{n.call(this)}catch(q){m.errback(q)}}t(m);if(!l.length){clearInterval(g);g=null}};dojo._ioCancelAll=function(){try{a.forEach(l,function(h){try{h.dfd.cancel()}catch(k){}})}catch(c){}};
a._ioNotifyStart=function(c){if(b.ioPublish&&a.publish&&c.ioArgs.args.ioPublish!==false){o||a.publish("/dojo/io/start");o+=1;a.publish("/dojo/io/send",[c])}};a._ioWatch=function(c,h,k,m){var n=c.ioArgs.args;if(n.timeout)c.startTime=(new Date).getTime();l.push({dfd:c,validCheck:h,ioCheck:k,resHandle:m});g||(g=setInterval(u,50));n.sync&&u()};var w=function(c){return c.ioArgs.xhr.readyState},p=function(c){return 4==c.ioArgs.xhr.readyState},r=function(c){var h=c.ioArgs.xhr;if(a._isDocumentOk(h))c.callback(c);
else{var k=Error("Unable to load "+c.ioArgs.url+" status:"+h.status);k.status=h.status;k.responseText=h.responseText;c.errback(k)}};dojo._ioAddQueryToUrl=function(c){if(c.query.length){c.url+=(c.url.indexOf("?")==-1?"?":"&")+c.query;c.query=null}};dojo.xhr=function(c,h,k){var m=a._ioSetArgs(h,i,f,j),n=m.ioArgs,q=n.xhr=a._xhrObj(n.args);if(!q){m.cancel();return m}if("postData"in h)n.query=h.postData;else if("putData"in h)n.query=h.putData;else if("rawBody"in h)n.query=h.rawBody;else if(arguments.length>
2&&!k||"POST|PUT".indexOf(c.toUpperCase())==-1)a._ioAddQueryToUrl(n);q.open(c,n.url,h.sync!==true,h.user||undefined,h.password||undefined);if(h.headers)for(var s in h.headers)if(s.toLowerCase()==="content-type"&&!h.contentType)h.contentType=h.headers[s];else h.headers[s]&&q.setRequestHeader(s,h.headers[s]);q.setRequestHeader("Content-Type",h.contentType||"application/x-www-form-urlencoded");if(!h.headers||!("X-Requested-With"in h.headers))q.setRequestHeader("X-Requested-With","XMLHttpRequest");a._ioNotifyStart(m);
if(dojo.config.debugAtAllCosts)q.send(n.query);else try{q.send(n.query)}catch(x){n.error=x;m.cancel()}a._ioWatch(m,w,p,r);return m};dojo.xhrGet=function(c){return a.xhr("GET",c)};dojo.rawXhrPost=dojo.xhrPost=function(c){return a.xhr("POST",c,true)};dojo.rawXhrPut=dojo.xhrPut=function(c){return a.xhr("PUT",c,true)};dojo.xhrDelete=function(c){return a.xhr("DELETE",c)}})(dojo);
